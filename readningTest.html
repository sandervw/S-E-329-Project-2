<html>
 <head>
  <script type="application/javascript">
var intervalId;
this.init = function init(){
  clock();

  intervalId = setInterval(clock, 1000);
}
var start;
function clock(){

  // no notification when we get unloaded/replaced, so check here
  var canvas = document.getElementById('canvas');
  if (!canvas) {
    clearInterval(intervalId);
    return;
  }

var time = Math.round((new Date().getTime() - start)/1000)      
var lastend = 0;
      var context = canvas.getContext('2d');
      var centerX = canvas.width / 2;
      var centerY = canvas.height / 2;
      var radius = 70;
      var amount = 10;


      context.beginPath();
      context.arc(centerX, centerY, radius, 0 * Math.PI, 2 * Math.PI, false);
      context.fillStyle = 'red';
      //context.fill();
      context.lineWidth = 5;
      context.strokeStyle = '#003300';
      context.stroke();
      context.beginPath();
      context.moveTo(canvas.width / 2, canvas.height / 2);
      context.arc(canvas.width / 2, canvas.height / 2, canvas.height / 2, lastend, lastend + (Math.PI * 2 * (time / amount)), false);
  context.lineTo(canvas.width / 2, canvas.height / 2);
  context.fill();
  lastend += Math.PI * 2 * (time / amount);

}
  </script>
 </head>
 <body>
   <canvas id="canvas" width="150" height="150"></canvas>
 </body>
 <script>  start = new Date().getTime();</script>
 <script>this.init();</script>
</html>